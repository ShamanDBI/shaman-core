

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Getting Started &mdash; shaman  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=5929fcd5"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Breakpoint" href="breakpoint.html" />
    <link rel="prev" title="Shaman DBI" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            shaman
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Table of Content</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Getting Started</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#why">Why ?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#how-to-use-shaman-framework">How to use Shaman Framework?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#instrumentation-api">Instrumentation API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#breakpoint-callback">Breakpoint Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#binary-code-coverage">Binary Code-Coverage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#syscall-tracing-callback">Syscall Tracing Callback</a></li>
<li class="toctree-l3"><a class="reference internal" href="#syscall-injection-api">Syscall Injection API</a></li>
<li class="toctree-l3"><a class="reference internal" href="#resource-tracing">Resource Tracing</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#dependencies">Dependencies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#ubuntu">Ubuntu</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#building">Building</a></li>
<li class="toctree-l2"><a class="reference internal" href="#platform-support">Platform Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="breakpoint.html">Breakpoint</a></li>
<li class="toctree-l1"><a class="reference internal" href="syscall_tracing.html">System Call Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="code_coverage.html">Code Coverage</a></li>
<li class="toctree-l1"><a class="reference internal" href="resource_tracing.html">Resource Tracing</a></li>
<li class="toctree-l1"><a class="reference internal" href="porting_guide.html">Porting Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="technical_details.html">Technical Details</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Future features</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="use_cases.html">How do I use your tool?</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Code Indexes</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="code_index.html">Code Index</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">shaman</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Getting Started</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/getting_started.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="getting-started">
<h1>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading"></a></h1>
<section id="why">
<h2>Why ?<a class="headerlink" href="#why" title="Link to this heading"></a></h2>
<p>This project began as a curiosity-driven attempt to create my own instrumentation and debugging tool. As I developed it further, I became interested in using it to gather code coverage on black-box binaries. Working on adapting it for different targets led me to design APIs that abstracted these capabilities into a broader framework.</p>
<p>Other instrumentation tools on the market cover a wide range, from full-system instrumentation tools like DynamoRIO, Intel Pintool, Frida, and Valgrind, which can be complex and come with significant performance overhead, to selective instrumentation tools like TinyInst and Mesos, which use various techniques to target specific areas. This framework leans toward selective instrumentation, offering APIs for customized instrumentation of specific targets.</p>
<p>This framework provides an interface that allows easy adaptation to other operating systems and architectures like RISC-V and PowerPC. It also includes unique features, such as system call injection, resource tracing, and real-time code coverage streaming, all accessible via APIs.</p>
<p>With this framework, I aim to consolidate dynamic reverse-engineering techniques scattered across different projects into a comprehensive set of APIs. It is especially intended for reverse-engineering binaries where source code is unavailable.</p>
</section>
<section id="how-to-use-shaman-framework">
<h2>How to use Shaman Framework?<a class="headerlink" href="#how-to-use-shaman-framework" title="Link to this heading"></a></h2>
<p>Shaman is designed as a framework for building tools using its APIs. Many features are provided through classes that can be inherited to implement your own logic, which you then register with the <cite>Debugger</cite> class. You can find more details about the APIs in the [next section](#instrumentation-api).</p>
<p>To start instrumenting your target, first create an instance of the <cite>Debugger</cite> class and pass in a <cite>TargetDescription</cite>, which specifies the architecture of the program being executed. If you want to trace system calls, call <cite>traceSyscall()</cite>, and if you want to trace child processes, use <cite>followFork()</cite>. You can then attach to a running process with <cite>debug.attach(pid)</cite> or start a new process with <cite>debug.spawn(“program param”)</cite>.</p>
<p>After configuring the debugger, execute it with <cite>debug.eventLoop()</cite>. This function is a blocking call that returns when the tracee completes execution or crashes. Be sure to register all events, like breakpoints and system calls, before calling this function.</p>
</section>
<section id="instrumentation-api">
<h2>Instrumentation API<a class="headerlink" href="#instrumentation-api" title="Link to this heading"></a></h2>
<section id="breakpoint-callback">
<h3>Breakpoint Callback<a class="headerlink" href="#breakpoint-callback" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="code_coverage.html"><span class="doc">see</span></a></p>
</section>
<section id="binary-code-coverage">
<h3>Binary Code-Coverage<a class="headerlink" href="#binary-code-coverage" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="code_coverage.html"><span class="doc">see</span></a></p>
</section>
<section id="syscall-tracing-callback">
<h3>Syscall Tracing Callback<a class="headerlink" href="#syscall-tracing-callback" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="syscall_tracing.html"><span class="doc">see</span></a></p>
</section>
<section id="syscall-injection-api">
<h3>Syscall Injection API<a class="headerlink" href="#syscall-injection-api" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="code_coverage.html"><span class="doc">see</span></a></p>
</section>
<section id="resource-tracing">
<h3>Resource Tracing<a class="headerlink" href="#resource-tracing" title="Link to this heading"></a></h3>
<p><a class="reference internal" href="resource_tracing.html"><span class="doc">see</span></a></p>
</section>
</section>
<section id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Link to this heading"></a></h2>
<section id="ubuntu">
<h3>Ubuntu<a class="headerlink" href="#ubuntu" title="Link to this heading"></a></h3>
</section>
</section>
<section id="building">
<h2>Building<a class="headerlink" href="#building" title="Link to this heading"></a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">make -j 16</span>
<span class="go">./scripts/build.sh</span>
</pre></div>
</div>
</section>
<section id="platform-support">
<h2>Platform Support<a class="headerlink" href="#platform-support" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Platfrom</p></th>
<th class="head"><p>x86_64</p></th>
<th class="head"><p>ARM</p></th>
<th class="head"><p>ARM64</p></th>
<th class="head"><p>MIPS</p></th>
<th class="head"><p>RISC-V</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Linux</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Yes</p></td>
<td><p>Planned</p></td>
<td><p>Planned</p></td>
</tr>
<tr class="row-odd"><td><p>Android</p></td>
<td><p>No</p></td>
<td><p>No</p></td>
<td><p>Yes</p></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Shaman DBI" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="breakpoint.html" class="btn btn-neutral float-right" title="Breakpoint" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Munawwar Hussain Shelia.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>